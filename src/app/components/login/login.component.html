<section class="py-5 bg-main-light w-75 mx-auto shadow-lg rounded p-2 my-4">
  <h2 class="text-main">Login Now</h2>
  <form [formGroup]="loginForm" (ngSubmit)="sendLoginData()">
    <div class="my-3">
      <label for="email">Email</label>
      <input
        class="form-control"
        type="email"
        name="email"
        id="email"
        formControlName="email"
      />

      @if (loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||
      loginForm.get('email')?.dirty )) {
      <div class="alert alert-danger small shadow p-0 m-0">
        @if (loginForm.get('email')?.getError('required')) {
        <p class="m-0 py-1">- Email is required</p>
        } @else if (loginForm.get('email')?.getError('email')) {
        <p class="m-0 py-1">- Enter Valid Email</p>
        }
      </div>
      }
    </div>

    <div class="my-3">
      <label for="password">Password</label>
      <input
        class="form-control"
        type="password"
        name="password"
        id="password"
        formControlName="password"
      />

      @if (loginForm.get('password')?.errors &&
      (loginForm.get('password')?.touched || loginForm.get('password')?.dirty ))
      {
      <div class="alert alert-danger small shadow p-0 m-0">
        @if (loginForm.get('password')?.getError('required')) {
        <p class="m-0 py-1">- Password is required</p>
        } @else if (loginForm.get('password')?.getError('pattern')) {
        <p class="m-0 py-1">- Password must be at least 6 chars</p>
        }
      </div>
      }
    </div>

    <button
      [disabled]="loginForm.invalid || isLoading"
      type="submit"
      class="btn-main d-block ms-auto"
    >
      Login @if (isLoading) {
      <i class="fas fa-spinner fa-spin"></i>
      }
    </button>
  </form>
</section>
